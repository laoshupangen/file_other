(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["schoolApp-pages-views-clockForm"],{"03dc":function(e,t,n){"use strict";var i,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{},[n("v-uni-view",{staticClass:"_cform_item"},[n("v-uni-picker-view",{staticStyle:{height:"200px"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.picker.apply(void 0,arguments)}},model:{value:e.atime,callback:function(t){e.atime=t},expression:"atime"}},[n("v-uni-picker-view-column",e._l(["上午","下午"],(function(t,i){return n("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t))])})),1),n("v-uni-picker-view-column",e._l(e.hours,(function(t,i){return n("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t))])})),1),n("v-uni-picker-view-column",e._l(e.minutes,(function(t,i){return n("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t))])})),1)],1)],1),n("v-uni-view",{staticClass:"_cform_item"},[n("v-uni-view",{staticStyle:{"padding-bottom":"15px","font-weight":"bold"}},[e._v("每周启用时间")]),n("m-check-box",{attrs:{options:e.coptions},model:{value:e.form.allowDays.value,callback:function(t){e.$set(e.form.allowDays,"value",t)},expression:"form.allowDays.value"}})],1),n("v-uni-view",{staticClass:"_cform_item"},[n("m-input",{staticClass:"wxx_minput",attrs:{label:"闹钟名",align:"right",placeholder:"闹钟名称"},model:{value:e.form.name.value,callback:function(t){e.$set(e.form.name,"value",t)},expression:"form.name.value"}})],1),n("v-uni-view",{staticClass:"submit_button"},[n("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)},r=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}))},"0725":function(e,t,n){"use strict";var i=n("ee27");n("caad"),n("a9e3"),n("ac1f"),n("2532"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("f3f3"));n("96cf");var r=i(n("c964")),u=n("6455"),c=i(n("051a")),o=i(n("97f6")),l=i(n("d527")),s=n("e9c1"),f=n("95f0"),d=function(e,t){for(var n=[],i=e;i<t;i++){var a=i<10?"0"+i:i+"";n.push(a)}return n},v=function(e){if(!e.includes(":"))return[];var t=e.split(":"),n=Number(t[1]),i=Number(t[0]);return i>11?(t.unshift(1),i-=12):t.unshift(0),[t[0],i,n]},p=function(e){var t=e.length;if(0===t)return"00:00";if(1===t){var n=e[0];return 0===n?"00:00":"12:00"}if(2===t){var i=e[0],a=e[1];return 0===i?(a=a<10?"0"+a:a,a+":00"):(a+=12,a+":00")}if(t>=3){var r=e[0],u=e[1],c=e[2]<10?"0"+e[2]:e[2];return 0===r?(u=u<10?"0"+u:u,u+":"+c):(u+=12,u+":"+c)}},m={data:function(){return{type:"",atime:[],hours:d(0,12),minutes:d(0,60),coptions:[{value:7,label:"周日"},{value:1,label:"周一"},{value:2,label:"周二"},{value:3,label:"周三"},{value:4,label:"周四"},{value:5,label:"周五"},{value:6,label:"周六"}],form:{id:{value:""},imei:{value:""},time:{value:"",label:"时间",rule:{required:!0}},name:{value:"",label:"闹钟名",rule:{required:!0}},allowDays:{value:[],label:"每周启用时间",rule:{type:"array"}},allowed:{value:!1,label:"启用",rule:{type:"boolean"}}}}},computed:{imei:function(){return(0,u.getStorage)("bindBaby").icCard?(0,u.getStorage)("bindBaby").icCard:""}},methods:{updateClock:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,f.updateClock)(e);case 2:n=t.sent,i=n.msg,uni.showToast({title:i||"修改成功",icon:"success"}),setTimeout((function(){uni.navigateBack()}),500);case 6:case"end":return t.stop()}}),t)})))()},addAlarm:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,f.addAlarm)((0,a.default)({},e,{imei:t.imei}));case 2:i=n.sent,r=i.msg,uni.showToast({title:r||"添加闹钟成功",icon:"success"}),setTimeout((function(){uni.navigateBack()}),500);case 6:case"end":return n.stop()}}),n)})))()},submit:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,s.validatorModel)(e.form);case 3:n=t.sent,i=e.type,"edit"===i?e.updateClock(n):e.addAlarm(n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),uni.showToast({title:t.t0.message,icon:"none"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},picker:function(e){var t=e.detail.value,n=p(t);this.form.time.value=n}},components:{mInput:o.default,mCheckBox:l.default,mCell:c.default},onLoad:function(e){if(e){var t=e.type;switch(this.type=t,t){case"edit":uni.setNavigationBarTitle({title:"编辑闹钟"});var n=JSON.parse(e.form);this.form=this.form.mapValue((function(e,t){return e.value=n[t],e})),this.atime=v(n.time);break;case"add":uni.setNavigationBarTitle({title:"新增闹钟"});break}}}};t.default=m},2365:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,"._check_list[data-v-0e344806]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;width:100%}._check_item[data-v-0e344806]{min-width:30px;height:30px;padding:0 5px;line-height:30px;text-align:center;border-radius:15px;background:#ebedf2;cursor:default;font-size:14px}._active_checked[data-v-0e344806]{background:#528adf;color:#fff}",""]),e.exports=t},"282c":function(e,t,n){"use strict";var i=n("ee27");n("99af"),n("4de4"),n("c740"),n("caad"),n("d81d"),n("2532"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("d0ff")),r={data:function(){return{index:[]}},props:{options:Array,value:Array},methods:{getOptionLabel:function(e){return"object"?e.label:e},getOptionValue:function(e){return"object"?e.value:e},select:function(e,t){this.index.includes(t)?this.index=this.index.filter((function(e){return e!==t})):this.index=[].concat((0,a.default)(this.index),[t])}},watch:{index:function(e){var t=this.options.filter((function(t,n){return e.includes(n)})).map((function(e){return e.value?e.value:e}));this.$emit("input",t)}},mounted:function(){var e=this;this.value&&this.value.length>0&&(this.index=this.value.map((function(t){var n=e.options;return n.findIndex((function(e){return e.value===t}))})))}};t.default=r},"29a4":function(e,t,n){var i=n("2365");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("367f05c0",i,!0,{sourceMap:!1,shadowMode:!1})},"3b21":function(e,t,n){"use strict";var i=n("29a4"),a=n.n(i);a.a},"524f":function(e,t,n){var i=n("e830");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("5dff6fef",i,!0,{sourceMap:!1,shadowMode:!1})},"61d7":function(e,t,n){"use strict";var i,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"_check_list"},e._l(e.options,(function(t,i){return n("v-uni-view",{key:i},[n("v-uni-view",{staticClass:"_check_item",class:e.index.length>0&&e.index.includes(i)?"_active_checked":"",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.select(t,i)}}},[e._v(e._s(e.getOptionLabel(t)))])],1)})),1)},r=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}))},"6a8d":function(e,t,n){"use strict";n.r(t);var i=n("03dc"),a=n("bfd3");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("b663");var u,c=n("f0c5"),o=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"25fd8ee7",null,!1,i["a"],u);t["default"]=o.exports},b663:function(e,t,n){"use strict";var i=n("524f"),a=n.n(i);a.a},bfd3:function(e,t,n){"use strict";n.r(t);var i=n("0725"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},d527:function(e,t,n){"use strict";n.r(t);var i=n("61d7"),a=n("f25e");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("3b21");var u,c=n("f0c5"),o=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"0e344806",null,!1,i["a"],u);t["default"]=o.exports},e830:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".item[data-v-25fd8ee7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#528adf}._cform_item[data-v-25fd8ee7]{padding:20px 5px;border-bottom:1px solid #e4e4e4}",""]),e.exports=t},f25e:function(e,t,n){"use strict";n.r(t);var i=n("282c"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a}}]);